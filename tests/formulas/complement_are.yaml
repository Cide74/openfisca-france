- name: Test 01 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 37
    complement_are_salaire_journalier_reference: 48
  output:
    complement_are_nombre_jours_indemnises: 7.0
    complement_are_allocation_mensuelle_due_brute: 259
    complement_are_deductions_montant_mensuel: 10.08
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 248.92

- name: Test 02 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 375
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 37
    complement_are_salaire_journalier_reference: 45
  output:
    complement_are_nombre_jours_indemnises: 23
    complement_are_allocation_mensuelle_due_brute: 851.00
    complement_are_deductions_montant_mensuel: 31.05
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 819.95

- name: Test 03 - Vérifie le calcul du complément ARE dans un cas simple sans CSG/CRDS
  period: 2022-05
  input:
    complement_are_gain_brut: 2100
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 57
    complement_are_salaire_journalier_reference: 100
  output:
    complement_are_nombre_jours_indemnises: 5.0
    complement_are_allocation_mensuelle_due_brute: 285
    complement_are_crc_mensuelle: 15
    complement_are_csg_mensuelle: 0
    complement_are_crds_mensuelle: 0
    complement_are_deductions_montant_mensuel: 15
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 270

- name: Test 04 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 2100
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 68.40
    complement_are_salaire_journalier_reference: 120
  output:
    complement_are_nombre_jours_indemnises: 9
    complement_are_allocation_mensuelle_due_brute: 615.6
    complement_are_deductions_montant_mensuel: 70.83
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 544.77

- name: Test 05 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 238.71
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 35.71
    complement_are_salaire_journalier_reference: 58.38
  output:
    complement_are_nombre_jours_indemnises: 25
    complement_are_allocation_mensuelle_due_brute: 892.75
    complement_are_deductions_montant_mensuel: 43.75
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 849

- name: Test 06 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 691.94
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 45.41
    complement_are_salaire_journalier_reference: 79.66
  output:
    complement_are_nombre_jours_indemnises: 19
    complement_are_allocation_mensuelle_due_brute: 862.79
    complement_are_deductions_montant_mensuel: 45.41
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 817.38

- name: Test 07 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 210
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 27.72
    complement_are_salaire_journalier_reference: 48.63
  output:
    complement_are_nombre_jours_indemnises: 25
    complement_are_allocation_mensuelle_due_brute: 693
    complement_are_deductions_montant_mensuel: 0
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 693

- name: Test 08 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 295.96
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 47.03
    complement_are_salaire_journalier_reference: 82.51
  output:
    complement_are_nombre_jours_indemnises: 26
    complement_are_allocation_mensuelle_due_brute: 1222.78
    complement_are_deductions_montant_mensuel: 64.48
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 1158.3

- name: Test 09 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 450
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 29.56
    complement_are_salaire_journalier_reference: 41.74
  output:
    complement_are_nombre_jours_indemnises: 19
    complement_are_allocation_mensuelle_due_brute: 561.64
    complement_are_deductions_montant_mensuel: 0
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 561.64

- name: Test 10 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 2670.81
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 68.4
    complement_are_salaire_journalier_reference: 120
  output:
    complement_are_nombre_jours_indemnises: 3
    complement_are_allocation_mensuelle_due_brute: 205.20
    complement_are_deductions_montant_mensuel: 23.61
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 181.59

- name: Test 11 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 460
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 57.38
    complement_are_salaire_journalier_reference: 100.66
  output:
    complement_are_nombre_jours_indemnises: 24
    complement_are_allocation_mensuelle_due_brute: 1377.12
    complement_are_deductions_montant_mensuel: 72.48
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 1304.64

- name: Test 12 - Vérifie le calcul du complément ARE dans un cas simple
  period: 2022-04
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 118.10
    complement_are_salaire_journalier_reference: 207.20
  output:
    complement_are_nombre_jours_indemnises: 23
    complement_are_allocation_mensuelle_due_brute: 2716.30
    complement_are_deductions_montant_mensuel: 312.57
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 2403.73

- name: Test 12.1 - Vérifie le calcul du complément ARE dans un cas simple avec dégressivité ARE
  period: 2022-05
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: true
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 82.67
    complement_are_allocation_journaliere_taux_plein: 118.10
    complement_are_salaire_journalier_reference: 207.20
  output:
    complement_are_nombre_jours_indemnises: 24
    complement_are_allocation_mensuelle_due_brute: 1984.08
    complement_are_crc_mensuelle: 149.28
    complement_are_csg_mensuelle: 111.84
    complement_are_crds_mensuelle: 9.12
    complement_are_deductions_montant_mensuel: 270.24
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 1713.84

- name: Test 13.1 - Vérifie le calcul du complément ARE pour un mois de 28 jours
  period: 2022-02
  input:
    complement_are_gain_brut: 918
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 35.11
    complement_are_salaire_journalier_reference: 56.91
  output:
    complement_are_nombre_jours_indemnises: 10
    complement_are_deductions_montant_mensuel: 17.1
    complement_are_allocation_mensuelle_due_brute: 351.1
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 334

- name: Test 13.2 - Vérifie le calcul du complément ARE pour un mois de 29 jours
  period: 2024-02
  input:
    complement_are_gain_brut: 918
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 35.11
    complement_are_salaire_journalier_reference: 56.91
  output:
    complement_are_nombre_jours_indemnises: 11
    complement_are_allocation_mensuelle_due_brute: 386.21
    complement_are_deductions_montant_mensuel: 18.81
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 367.4

- name: Test 13.3 - Vérifie le calcul du complément ARE pour un mois de 30 jours
  period: 2022-04
  input:
    complement_are_gain_brut: 918
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 35.11
    complement_are_salaire_journalier_reference: 56.91
  output:
    complement_are_nombre_jours_indemnises: 12
    complement_are_allocation_mensuelle_due_brute: 421.32
    complement_are_deductions_montant_mensuel: 20.52
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 400.8

- name: Test 13.4 - Vérifie le calcul du complément ARE pour un mois de 31 jours
  period: 2022-03
  input:
    complement_are_gain_brut: 918
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 35.11
    complement_are_salaire_journalier_reference: 56.91
  output:
    complement_are_nombre_jours_indemnises: 13
    complement_are_allocation_mensuelle_due_brute: 456.43
    complement_are_deductions_montant_mensuel: 22.23
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 434.20

- name: Test 14 - Vérifie le calcul du complément ARE dans un cas de dépassement du plafond de cumul
  period: 2022-04
  input:
    complement_are_gain_brut: 846
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 100
    complement_are_allocation_journaliere: 22.5
    complement_are_salaire_journalier_reference: 30
  output:
    complement_are_nombre_jours_indemnises: 3
    complement_are_allocation_mensuelle_due_brute: 67.5
    complement_are_deductions_montant_mensuel: 0
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 67.5

- name: Test 15 - Vérifie le calcul du complément ARE partiel dans le cas où le nombre de jours restants n'est pas suffisant
  period: 2022-04
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 4
    complement_are_allocation_journaliere: 37
    complement_are_salaire_journalier_reference: 48
  output:
    complement_are_nombre_jours_indemnisables: 7
    complement_are_nombre_jours_indemnises: 4
    complement_are_allocation_mensuelle_due_brute: 148
    complement_are_deductions_montant_mensuel: 10.08
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 137.92

- name: Test 16 - Vérifie le calcul du complément ARE partiel dans un cas sans jours restants
  period: 2022-04
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 0
    complement_are_allocation_journaliere: 37
    complement_are_salaire_journalier_reference: 48
  output:
    complement_are_nombre_jours_indemnisables: 7
    complement_are_nombre_jours_indemnises: 0
    complement_are_allocation_mensuelle_due_brute: 0
    complement_are_deductions_montant_mensuel: 10.08
    complement_are_allocation_mensuelle_due_brute_apres_deductions: 0

- name: Test 16 - Vérifie le calcul du nombre de jours restants
  period: 2022-04
  input:
    complement_are_gain_brut: 1200
    complement_are_degressivite_are: false
    complement_are_nombre_jours_restants: 10
    complement_are_allocation_journaliere: 37
    complement_are_salaire_journalier_reference: 48
  output:
    complement_are_nombre_jours_restants: 10
    complement_are_nombre_jours_indemnisables: 7
    complement_are_nombre_jours_restants_fin_periode: 3
