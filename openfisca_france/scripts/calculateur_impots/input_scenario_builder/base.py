#! /usr/bin/env python
# -*- coding: utf-8 -*-

from openfisca_france.scripts.calculateur_impots.input_scenario_builder.utils import *



fixed_wage_amount = 50000
fixed_large_wage_amount = 150000
tested_income_amount = 20000
tested_reduction_amount = 500
tested_investment = 10000

scenario_by_variable_2014 = {
    'abat_65_or_invalid': define_single_worker_scenario(2014, {'salaire_imposable': 20000},  caseP = 1, date_naissance = 2014 - 80),
    'caseF': define_family_scenario(2014, caseF = 1),
    'caseG': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount}, caseG = 1, statut_marital = u'veuf', date_naissance = 2014 - 80),
    'caseL': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount}, caseL = 1),
    'caseP': define_family_scenario(2014, caseP = 1),
    'caseS': define_family_scenario(2014, caseS = 1, date_naissance1 = 2014 - 80),
    'caseT': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'caseW': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount}, caseW = 1, date_naissance = 2014 - 80),
    'charges_deduc_non_plafonnees_acc75a': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f6ev': 2, 'f6eu': tested_reduction_amount}),
    'charges_deduc_non_plafonnees_deddiv': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f6dd': tested_reduction_amount}),
    #'charges_deduc_non_plafonnees_eparet': TODO
    'charges_deduc_non_plafonnees_reparations': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f6cb': 25000, 'f6hj': tested_reduction_amount , 'f6hk': tested_reduction_amount, 'f6hl': tested_reduction_amount, 'f6hm': tested_reduction_amount, 'f6hn': tested_reduction_amount}),
    'charges_deduc_non_plafonnees_pens_alim': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f6gi': tested_reduction_amount, 'f6gj': tested_reduction_amount, 'f6el': tested_reduction_amount, 'f6em': tested_reduction_amount, 'f6gp': tested_reduction_amount, 'f6gu': tested_reduction_amount}),
    'credit_aidper': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7wj': tested_reduction_amount, 'f7wl': tested_reduction_amount, 'f7wr': tested_reduction_amount}),
    'credit_assloy': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f4ba': tested_income_amount, 'f4bf': tested_reduction_amount}),
    'credit_garext': define_family_scenario(2014, value_by_variable = {'f7ga': 3000, 'f7ge': 2000}, nb_enfants = 2, nbF = 1, nbH = 1),
    'credit_inthab': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7vt': tested_reduction_amount, 'f7vx': tested_reduction_amount * 2, 'f7vz': tested_reduction_amount * 3, 'f7vv': tested_reduction_amount * 4, 'f7vu': tested_reduction_amount}),
    'credit_preetu': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7uk': tested_reduction_amount, 'f7vo': 2, 'f7td': 3000}, date_naissance = 2014 - 25),
    'credit_saldom': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 1, 'f7dg': 1}),
    'credit_saldom2': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'decote': define_family_scenario(2014, income_amount1 = 25000, income_amount2 = 20000),
    'f4be': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f4be': tested_income_amount}), # r√©gime micro-foncier
    'maj_nbp': define_family_scenario(2014, nbF = 1, nbG = 1, nbH = 1, nbI = 1, nbR = 1, nbJ = 1),
    'nbG': define_family_scenario(2014, nbG = 1),  
    'nbI': define_family_scenario(2014, nbF = 2, nbI = 1, nbH = 1),
    'nbR': define_family_scenario(2014, nbR = 1),
    'plaf_qf_caseL': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount}, caseL = 1),
    'plaf_qf_casePF_nbGI': define_family_scenario(2014, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000, caseP = 1, caseF = 1, nbF = 2, nbG = 1, nbH = 1, nbI = 1),
    'plaf_qf_caseT': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'plaf_qf_caseWG': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount}, statut_marital = u'veuf', caseG = 1, caseW = 1),
    'plaf_qf_family': define_family_scenario(2014, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000),
    'ppe': define_family_scenario(2014, income_amount1 = 15000, income_amount2 = 10000), 
    'reduc_adhcga': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f7ff': tested_reduction_amount, 'f7fg': 2}),
    'reduc_autent': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f8uy': tested_reduction_amount}),
    'reduc_cappme': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7cf': tested_investment, 'f7cu': tested_investment, 'f7cl': tested_investment, 'f7cm': tested_investment, 'f7cn': tested_investment, 'f7cc': tested_investment, 'f7cq': tested_investment, 'f7cr': tested_investment, 'f7cy': tested_reduction_amount}),
    'reduc_credit_2042pro': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'arag_impg': fixed_wage_amount, 'f8tb': tested_reduction_amount, 'f8tc' : tested_reduction_amount, 'f8te' : tested_reduction_amount, 'f8tg' : tested_reduction_amount, 'f8ts' : tested_reduction_amount, 'f8tz' : tested_reduction_amount, 'f8wa' : tested_reduction_amount, 'f8wb' : tested_reduction_amount, 'f8wc' : tested_reduction_amount, 'f8wd' : tested_reduction_amount, 'f8we' : tested_reduction_amount, 'f8wt' : tested_reduction_amount, 'f8wr' : tested_reduction_amount, 'f8uz' : tested_reduction_amount, 'f8wu' : tested_reduction_amount, 'f8tl' : tested_reduction_amount, 'f8uw' : tested_reduction_amount}), 
    'reduc_duflot': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7ek': tested_investment, 'f7gh': tested_investment, 'f7fi': tested_reduction_amount}),
    'reduc_dfppce': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7uf': tested_reduction_amount, 'f7vc': tested_reduction_amount, 'f7xs': tested_reduction_amount * 2, 'f7xt': tested_reduction_amount * 2, 'f7xu': tested_reduction_amount * 2, 'f7xv': tested_reduction_amount * 2, 'f7xw': tested_reduction_amount * 2}),
    'reduc_donapd': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7ud': 100, 'f7va': 100}),
    'reduc_ecpess': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount,'f7ea': 1, 'f7eb': 1, 'f7ec': 0, 'f7ef': 0, 'f7eg': 0, 'f7ed': 1}, nb_enfants = 3, nbF = 1, nbH = 2),
    'reduc_intagr': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7um': tested_income_amount, 'f2tr': tested_income_amount}),
    'reduc_invlst1': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7xi': tested_investment}),
    'reduc_invlst2': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7xj': tested_investment}),
    'reduc_locmeu': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment}),
    'reduc_locmeu_avec_reports': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment, 'f7oa': tested_reduction_amount, 'f7oc': tested_reduction_amount, 'f7oe': tested_reduction_amount, 'f7jv': tested_reduction_amount, 'f7jx': tested_reduction_amount, 'f7ia': tested_reduction_amount, 'f7ic': tested_reduction_amount, 'f7ip': tested_reduction_amount, 'f7ir': tested_reduction_amount, 'f7iu': 10, 'f7it': 10, 'f7ix': 10, 'f7ih': 10, 'f7iz': 10, 'f7iy': 10, 'f7jc': 10, 'f7ji': 10, 'f7js': 10, 'f7pa': 10, 'f7pb': 10, 'f7pc': 10, 'f7pd': 10, 'f7pe': 10}),
    'reduc_locmeu_plafonnee': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7ou': tested_investment * 10, 'f7jt': tested_investment * 10, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment, 'f7ob': tested_reduction_amount, 'f7od': tested_reduction_amount, 'f7jw': tested_reduction_amount, 'f7jy': tested_reduction_amount, 'f7ib': tested_reduction_amount, 'f7iq': tested_reduction_amount, 'f7ik': tested_reduction_amount}),
    'reduc_patnat': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7kb': tested_reduction_amount, 'f7kc': tested_reduction_amount, 'f7kd': tested_reduction_amount, 'f7ke': tested_reduction_amount}),
    'reduc_malraux': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7ra': tested_reduction_amount, 'f7rb': tested_reduction_amount, 'f7rc': tested_reduction_amount, 'f7rd': tested_reduction_amount, 'f7re': tested_reduction_amount, 'f7rf': tested_reduction_amount, 'f7sy': tested_reduction_amount, 'f7sx': tested_reduction_amount}),
    'reduc_pinel_dom': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7qc': tested_investment * 20, 'f7qd': tested_investment * 20}),
    'reduc_pinel_metro': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7qa': tested_investment * 20, 'f7qb': tested_investment * 20}),
    'reduc_saldom': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7df': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'reduc_saldom2': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7dd': tested_income_amount, 'f7dl': 1}),
    'reduc_scelli_dom_poly': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7jo': tested_investment, 'f7nr': tested_investment, 'f7hk': tested_investment, 'f7hm': tested_investment}),
    'reduc_scelli_dom_poly_et_reports': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7yi': tested_reduction_amount, 'f7yj': tested_reduction_amount, 'f7yk': tested_reduction_amount, 'f7yl': tested_reduction_amount, 'f7gv': tested_reduction_amount, 'f7gw': tested_reduction_amount, 'f7gx': tested_reduction_amount, 'f7hg': tested_reduction_amount, 'f7hh': tested_reduction_amount, 'f7hz': tested_reduction_amount, 'f7hu': tested_reduction_amount, 'f7hs': tested_reduction_amount, 'f7ln': tested_reduction_amount}),
    'reduc_scelli_metro_bbc': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ja': tested_investment, 'f7ne': tested_investment, 'f7hn': tested_investment, 'f7hl': tested_investment}),
    'reduc_scelli_metro_non_bbc': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fb': tested_investment*10, 'f7jg': tested_investment, 'f7ng': tested_investment, 'f7hj': tested_investment}),
    'reduc_scelli_metro_bbc_et_reports1': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ya': tested_reduction_amount, 'f7yb': tested_reduction_amount, 'f7yc': tested_reduction_amount, 'f7yd': tested_reduction_amount, 'f7ye': tested_reduction_amount, 'f7yf': tested_reduction_amount, 'f7yg': tested_reduction_amount, 'f7yh': tested_reduction_amount, 'f7gj': tested_reduction_amount, 'f7gk': tested_reduction_amount, 'f7gl': tested_reduction_amount, 'f7gp': tested_reduction_amount, 'f7gs': tested_reduction_amount, 'f7gt': tested_reduction_amount, 'f7gu': tested_reduction_amount, 'f7ha': tested_reduction_amount, 'f7hb': tested_reduction_amount, 'f7hd': tested_reduction_amount, 'f7he': tested_reduction_amount, 'f7hf': tested_reduction_amount, 'f7hv': tested_reduction_amount, 'f7hx': tested_reduction_amount, 'f7ht': tested_reduction_amount, 'f7hr': tested_reduction_amount}),
    'reduc_scelli_metro_bbc_et_reports2': define_single_worker_scenario(2014, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ya': tested_reduction_amount, 'f7la': tested_reduction_amount, 'f7lb': tested_reduction_amount, 'f7lc': tested_reduction_amount, 'f7ld': tested_reduction_amount, 'f7le': tested_reduction_amount, 'f7lf': tested_reduction_amount, 'f7lm': tested_reduction_amount, 'f7ln': tested_reduction_amount, 'f7ls': tested_reduction_amount, 'f7lt': tested_reduction_amount, 'f7lz': tested_reduction_amount, 'f7lx': tested_reduction_amount, 'f7mg': tested_reduction_amount, 'f7mh': tested_reduction_amount }),
    'reduc_spfscpi': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount, 'f7fq': tested_reduction_amount * 2, 'f7fm': tested_reduction_amount * 3}),
    'reduc_spfscpi2': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount}),
    'regime_forfait_agricole': define_single_worker_scenario(2014, {'frag_impo': fixed_wage_amount, 'frag_fore': tested_reduction_amount, 'frag_pvct': tested_reduction_amount}),
    'regime_benef_reel_agricole_sans_cga': define_single_worker_scenario(2014, {'nrag_impg': fixed_wage_amount/2, 'nrag_defi': tested_reduction_amount, 'f5qf': tested_reduction_amount, 'f5qg': tested_reduction_amount, 'f5qn': tested_reduction_amount}),
    'regime_benef_reel_agricole_avec_cga': define_single_worker_scenario(2014, {'arag_impg': fixed_wage_amount/2, 'arag_defi': tested_reduction_amount, 'arag_pvce': tested_reduction_amount*2, 'f5qo': tested_reduction_amount, 'f5qp': tested_reduction_amount, 'f5qq': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_avec_cga': define_single_worker_scenario(2014, {'alnp_imps': tested_income_amount * 3, 'nacc_defs': tested_income_amount, 'alnp_defs': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_sans_cga': define_single_worker_scenario(2014, {'nacc_pvce': tested_income_amount * 3, 'nbic_defs': tested_income_amount, 'nlnp_defs': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_avec_cga': define_single_worker_scenario(2014, {'aacc_exon': tested_income_amount, 'aacc_impn': tested_income_amount * 3, 'aacc_defn': tested_income_amount, 'aacc_pvce': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_sans_cga': define_single_worker_scenario(2014, {'nacc_exon': tested_income_amount, 'nacc_impn': tested_income_amount * 3, 'nacc_defn': tested_income_amount}),
    'regime_benef_reel_BIC_pro_avec_cga': define_single_worker_scenario(2014, {'abic_impn': tested_income_amount * 3, 'abic_impm': tested_income_amount, 'abic_exon': tested_income_amount, 'abic_defn': tested_reduction_amount, 'abic_defm': tested_reduction_amount, 'abic_pvce': tested_reduction_amount / 2}),
    'regime_benef_reel_BIC_pro_sans_cga': define_single_worker_scenario(2014, {'nbic_impn': tested_income_amount * 3, 'nbic_impm': tested_income_amount, 'nbic_exon': tested_income_amount, 'nbic_defn': tested_reduction_amount, 'nbnc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_location': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'aacc_imps' : tested_income_amount / 2, 'aacc_gits': tested_income_amount / 2, 'nacc_meup': tested_income_amount / 2}),
    'regime_micro_BIC_non_pro': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'macc_exon': tested_income_amount / 3, 'macc_impv': tested_income_amount/2, 'macc_imps': tested_income_amount / 2, 'macc_pvct': tested_reduction_amount, 'macc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_pro': define_single_worker_scenario(2014, {'salaire_imposable': fixed_wage_amount, 'mbic_impv': tested_income_amount/2, 'mbic_imps': tested_income_amount / 3, 'mbic_exon': tested_income_amount / 3, 'mbic_pvct': tested_reduction_amount, 'mbic_pvce': tested_reduction_amount}),
}

scenario_by_variable_2015 = {
    'abat_65_or_invalid': define_single_worker_scenario(2015, {'salaire_imposable': 20000},  caseP = 1, date_naissance = 2015 - 80),
    'caseF': define_family_scenario(2015, caseF = 1),
    'caseG': define_single_worker_scenario(2015, {'salaire_imposable': 50000}, caseG = 1, statut_marital = u'veuf', date_naissance = 2015 - 80),
    'caseL': define_single_worker_scenario(2015, {'salaire_imposable': 50000}, caseL = 1),
    'caseP': define_family_scenario(2015, caseP = 1),
    'caseS': define_family_scenario(2015, caseS = 1, date_naissance1 = 2015 - 80),
    'caseT': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'caseW': define_single_worker_scenario(2015, {'salaire_imposable': 50000}, caseW = 1, date_naissance = 2015 - 80),
    'charges_deduc_non_plafonnees_acc75a': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f6ev': 2, 'f6eu': 1000}),
    'charges_deduc_non_plafonnees_deddiv': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f6dd': tested_reduction_amount}),
    #'charges_deduc_non_plafonnees_eparet': TODO
    'charges_deduc_non_plafonnees_reparations': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f6cb': 25000, 'f6hj': 1000 , 'f6hk': 1000, 'f6hl': 1000, 'f6hm': 1000, 'f6hn': 1000, 'f6ho': 1000}),
    'charges_deduc_non_plafonnees_pens_alim': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f6gi': tested_reduction_amount, 'f6gj': tested_reduction_amount, 'f6el': tested_reduction_amount, 'f6em': tested_reduction_amount, 'f6gp': tested_reduction_amount, 'f6gu': tested_reduction_amount}),
    'credit_aidper': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7wj': tested_reduction_amount, 'f7wl': tested_reduction_amount, 'f7wr': tested_reduction_amount}),
    'credit_assloy': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f4ba': tested_income_amount, 'f4bf': tested_reduction_amount}),
    'credit_garext': define_family_scenario(2015, value_by_variable = {'f7ga': 3000, 'f7ge': 2000}, nb_enfants = 2, nbF = 1, nbH = 1),
    'credit_inthab': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7vt': tested_reduction_amount, 'f7vx': tested_reduction_amount * 2, 'f7vz': tested_reduction_amount * 3, 'f7vv': tested_reduction_amount * 4}),
    'credit_preetu': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7uk': 1000, 'f7vo': 2, 'f7td': 3000}, date_naissance = 2015 - 25),
    'credit_saldom': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 1, 'f7dg': 1}),
    'credit_saldom2': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'decote': define_family_scenario(2015, income_amount1 = 25000, income_amount2 = 20000),
    'f4be': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f4be': tested_income_amount}), # r√©gime micro-foncier
    'maj_nbp': define_family_scenario(2015, nbF = 1, nbG = 1, nbH = 1, nbI = 1, nbR = 1, nbJ = 1),
    'nbG': define_family_scenario(2015, nbG = 1),  
    'nbI': define_family_scenario(2015, nbF = 2, nbI = 1, nbH = 1),
    'nbR': define_family_scenario(2015, nbR = 1),
    'plaf_qf_caseL': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount}, caseL = 1),
    'plaf_qf_casePF_nbGI': define_family_scenario(2015, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000, caseP = 1, caseF = 1, nbF = 2, nbG = 1, nbH = 1, nbI = 1),
    'plaf_qf_caseT': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'plaf_qf_caseWG': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount}, statut_marital = u'veuf', caseG = 1, caseW = 1),
    'plaf_qf_family': define_family_scenario(2015, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000),
    'ppe': define_family_scenario(2015, income_amount1 = 15000, income_amount2 = 10000), 
    'reduc_adhcga': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f7ff': tested_reduction_amount, 'f7fg': 2}),
    'reduc_autent': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f8uy': tested_reduction_amount}),
    'reduc_cappme': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7cf': tested_investment, 'f7cu': tested_investment, 'f7cl': tested_investment, 'f7cm': tested_investment, 'f7cn': tested_investment, 'f7cc': tested_investment, 'f7cq': tested_investment, 'f7cr': tested_investment, 'f7cv': tested_investment, 'f7cy': tested_reduction_amount, 'f7dy': tested_reduction_amount}),
    'reduc_credit_2042pro': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'arag_impg': fixed_wage_amount, 'f8tb': tested_reduction_amount, 'f8tc' : tested_reduction_amount, 'f8te' : tested_reduction_amount, 'f8tg' : tested_reduction_amount, 'f8ts' : tested_reduction_amount, 'f8tz' : tested_reduction_amount, 'f8wa' : tested_reduction_amount, 'f8wb' : tested_reduction_amount, 'f8wc' : tested_reduction_amount, 'f8wd' : tested_reduction_amount, 'f8we' : tested_reduction_amount, 'f8wt' : tested_reduction_amount, 'f8wr' : tested_reduction_amount, 'f8uz' : tested_reduction_amount, 'f8wu' : tested_reduction_amount, 'f8tl' : tested_reduction_amount, 'f8uw' : tested_reduction_amount}), 
    'reduc_duflot': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7ek': tested_investment, 'f7gh': tested_investment, 'f7fi': tested_reduction_amount, 'f7fk': tested_reduction_amount}),
    'reduc_dfppce': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7uf': tested_reduction_amount, 'f7vc': tested_reduction_amount, 'f7xs': 1000, 'f7xt': 1000, 'f7xu': 1000, 'f7xv': 1000, 'f7xw': 1000}),
    'reduc_donapd': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7ud': 100, 'f7va': 100}),
    'reduc_ecpess': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount,'f7ea': 1, 'f7eb': 1, 'f7ec': 0, 'f7ef': 0, 'f7eg': 0, 'f7ed': 1}, nb_enfants = 3, nbF = 1, nbH = 2),
    'reduc_intagr': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7um': tested_income_amount, 'f2tr': tested_income_amount}),
    'reduc_invlst1': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7xi': tested_investment}),
    'reduc_invlst2': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7xj': tested_investment}),
    'reduc_locmeu': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment}),
    'reduc_locmeu_avec_reports': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment, 'f7of': tested_reduction_amount, 'f7oh': tested_reduction_amount, 'f7oj': tested_reduction_amount, 'f7oa': tested_reduction_amount, 'f7oc': tested_reduction_amount, 'f7oe': tested_reduction_amount, 'f7jv': tested_reduction_amount, 'f7jx': tested_reduction_amount, 'f7ia': tested_reduction_amount, 'f7ic': tested_reduction_amount, 'f7ip': tested_reduction_amount, 'f7ir': tested_reduction_amount, 'f7jv': tested_reduction_amount, 'f7jx': tested_reduction_amount, 'f7ia': tested_reduction_amount, 'f7ic': tested_reduction_amount, 'f7ip': tested_reduction_amount, 'f7ir': tested_reduction_amount, 'f7iu': 10, 'f7it': 10, 'f7ix': 10, 'f7ih': 10, 'f7iz': 10, 'f7iy': 10, 'f7jc': 10, 'f7ji': 10, 'f7js': 10, 'f7pa': 10, 'f7pb': 10, 'f7pc': 10, 'f7pd': 10, 'f7pe': 10, 'f7pf': 10, 'f7pg': 10, 'f7ph': 10, 'f7pi': 10, 'f7pj': 10}),
    'reduc_locmeu_plafonnee': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7ov': tested_investment * 10, 'f7ou': tested_investment * 10, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7io': tested_investment, 'f7og': tested_reduction_amount, 'f7oi': tested_reduction_amount, 'f7ob': tested_reduction_amount, 'f7od': tested_reduction_amount, 'f7jw': tested_reduction_amount, 'f7jy': tested_reduction_amount, 'f7ib': tested_reduction_amount, 'f7iq': tested_reduction_amount, 'f7ik': tested_reduction_amount}),
    'reduc_patnat': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7kb': tested_reduction_amount, 'f7kc': tested_reduction_amount, 'f7kd': tested_reduction_amount, 'f7ke': tested_reduction_amount}),
    'reduc_pinel_dom': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7qc': tested_investment * 10, 'f7qd': tested_investment * 10, 'f7qg': tested_investment * 10, 'f7qh': tested_investment* 10, 'f7ci': tested_reduction_amount, 'f7di': tested_reduction_amount}),
    'reduc_pinel_metro': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7qa': tested_investment * 10, 'f7qb': tested_investment * 10, 'f7qe': tested_investment * 10, 'f7qf': tested_investment * 10, 'f7ai': tested_reduction_amount, 'f7bi': tested_reduction_amount}),
    'reduc_malraux': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7ra': tested_reduction_amount, 'f7rb': tested_reduction_amount, 'f7rc': tested_reduction_amount, 'f7rd': tested_reduction_amount, 'f7re': tested_reduction_amount, 'f7rf': tested_reduction_amount, 'f7sy': tested_reduction_amount, 'f7sx': tested_reduction_amount}),
    'reduc_saldom': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7df': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'reduc_saldom2': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7dd': tested_income_amount, 'f7dl': 1}),
    'reduc_scelli_dom_poly': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7jo': tested_investment, 'f7nr': tested_investment, 'f7hk': tested_investment, 'f7hm': tested_investment}),
    'reduc_scelli_dom_poly_et_reports': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7hm': tested_reduction_amount, 'f7yq': tested_reduction_amount, 'f7yr': tested_reduction_amount, 'f7ys': tested_reduction_amount, 'f7yj': tested_reduction_amount, 'f7yk': tested_reduction_amount, 'f7yl': tested_reduction_amount, 'f7gv': tested_reduction_amount, 'f7gw': tested_reduction_amount, 'f7gx': tested_reduction_amount, 'f7hg': tested_reduction_amount, 'f7hh': tested_reduction_amount, 'f7hw': tested_reduction_amount, 'f7hu': tested_reduction_amount, 'f7hs': tested_reduction_amount, 'f7lg': tested_reduction_amount}),
    'reduc_scelli_metro_bbc': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ja': tested_investment, 'f7ne': tested_investment, 'f7hn': tested_investment, 'f7hl': tested_investment}),
    'reduc_scelli_metro_non_bbc': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fb': tested_investment*10, 'f7jg': tested_investment, 'f7ng': tested_investment, 'f7hj': tested_investment}),
    'reduc_scelli_metro_bbc_et_reports1': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7hl': tested_reduction_amount, 'f7ym': tested_reduction_amount, 'f7yn': tested_reduction_amount, 'f7yo': tested_reduction_amount, 'f7yp': tested_reduction_amount, 'f7yb': tested_reduction_amount, 'f7yd': tested_reduction_amount, 'f7yf': tested_reduction_amount, 'f7yh': tested_reduction_amount, 'f7gj': tested_reduction_amount, 'f7gl': tested_reduction_amount, 'f7gs': tested_reduction_amount, 'f7gu': tested_reduction_amount, 'f7ha': tested_reduction_amount, 'f7hd': tested_reduction_amount, 'f7hf': tested_reduction_amount, 'f7hv': tested_reduction_amount, 'f7hx': tested_reduction_amount, 'f7ht': tested_reduction_amount, 'f7hr': tested_reduction_amount}),
    'reduc_scelli_metro_bbc_et_reports2': define_single_worker_scenario(2015, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7hl': tested_reduction_amount, 'f7la': tested_reduction_amount, 'f7lb': tested_reduction_amount, 'f7lc': tested_reduction_amount, 'f7ld': tested_reduction_amount, 'f7le': tested_reduction_amount, 'f7lf': tested_reduction_amount, 'f7lm': tested_reduction_amount, 'f7ln': tested_reduction_amount, 'f7ls': tested_reduction_amount, 'f7lt': tested_reduction_amount, 'f7lz': tested_reduction_amount, 'f7lx': tested_reduction_amount, 'f7mg': tested_reduction_amount, 'f7mh': tested_reduction_amount, 'f7lg': tested_reduction_amount, 'f7lh': tested_reduction_amount, 'f7li': tested_reduction_amount, 'f7lj': tested_reduction_amount}),
    'reduc_spfscpi': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount, 'f7fq': tested_reduction_amount * 2, 'f7fm': tested_reduction_amount * 3}),
    'reduc_spfscpi2': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount}),
    'regime_forfait_agricole': define_single_worker_scenario(2015, {'frag_impo': fixed_wage_amount, 'frag_fore': tested_reduction_amount, 'frag_pvct': tested_reduction_amount}),
    'regime_benef_reel_agricole_sans_cga': define_single_worker_scenario(2015, {'nrag_impg': fixed_wage_amount/2, 'nrag_defi': tested_reduction_amount, 'f5qf': tested_reduction_amount, 'f5qg': tested_reduction_amount, 'f5qn': tested_reduction_amount}),
    'regime_benef_reel_agricole_avec_cga': define_single_worker_scenario(2015, {'arag_impg': fixed_wage_amount/2, 'arag_defi': tested_reduction_amount, 'arag_pvce': tested_reduction_amount*2, 'f5qo': tested_reduction_amount, 'f5qp': tested_reduction_amount, 'f5qq': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_avec_cga': define_single_worker_scenario(2015, {'alnp_imps': tested_income_amount * 3, 'nacc_defs': tested_income_amount, 'alnp_defs': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_sans_cga': define_single_worker_scenario(2015, {'nacc_pvce': tested_income_amount * 3, 'nbic_defs': tested_income_amount, 'nlnp_defs': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_avec_cga': define_single_worker_scenario(2015, {'aacc_exon': tested_income_amount, 'aacc_impn': tested_income_amount * 3, 'aacc_defn': tested_income_amount, 'aacc_pvce': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_sans_cga': define_single_worker_scenario(2015, {'nacc_exon': tested_income_amount, 'nacc_impn': tested_income_amount * 3, 'nacc_defn': tested_income_amount}),
    'regime_benef_reel_BIC_pro_avec_cga': define_single_worker_scenario(2015, {'abic_impn': tested_income_amount * 3, 'abic_impm': tested_income_amount, 'abic_exon': tested_income_amount, 'abic_defn': tested_reduction_amount, 'abic_defm': tested_reduction_amount, 'abic_pvce': tested_reduction_amount / 2}),
    'regime_benef_reel_BIC_pro_sans_cga': define_single_worker_scenario(2015, {'nbic_impn': tested_income_amount * 3, 'nbic_impm': tested_income_amount, 'nbic_exon': tested_income_amount, 'nbic_defn': tested_reduction_amount, 'nbnc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_location': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'aacc_imps' : tested_income_amount / 2, 'aacc_gits': tested_income_amount / 2, 'nacc_meup': tested_income_amount / 2}),
    'regime_micro_BIC_non_pro': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'macc_exon': tested_income_amount / 3, 'macc_impv': tested_income_amount/2, 'macc_imps': tested_income_amount / 2, 'macc_pvct': tested_reduction_amount, 'macc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_pro': define_single_worker_scenario(2015, {'salaire_imposable': fixed_wage_amount, 'mbic_impv': tested_income_amount/2, 'mbic_imps': tested_income_amount / 3, 'mbic_exon': tested_income_amount / 3, 'mbic_pvct': tested_reduction_amount, 'mbic_pvce': tested_reduction_amount}),
   }

scenario_by_variable_2016 = {
    'abat_65_or_invalid': define_single_worker_scenario(2016, {'salaire_imposable': 20000},  caseP = 1, date_naissance = 2016 - 80),
    'caseF': define_family_scenario(2016, caseF = 1),
    'caseG': define_single_worker_scenario(2016, {'salaire_imposable': 50000}, caseG = 1, statut_marital = u'veuf', date_naissance = 2016 - 80),
    'caseL': define_single_worker_scenario(2016, {'salaire_imposable': 50000}, caseL = 1),
    'caseP': define_family_scenario(2016, caseP = 1),
    'caseS': define_family_scenario(2016, caseS = 1, date_naissance1 = 2016 - 80),
    'caseT': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'caseW': define_single_worker_scenario(2016, {'salaire_imposable': 50000}, caseW = 1, date_naissance = 2016 - 80),
    'charges_deduc_non_plafonnees_acc75a': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f6ev': 2, 'f6eu': 1000}),
    'charges_deduc_non_plafonnees_deddiv': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f6dd': tested_reduction_amount}),
    #'charges_deduc_non_plafonnees_eparet': TODO
    'charges_deduc_non_plafonnees_reparations': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f6cb': 25000, 'f6hj': 1000 , 'f6hk': 1000, 'f6hl': 1000, 'f6hm': 1000, 'f6hn': 1000, 'f6ho': 1000, 'f6hp': 1000}),
    'charges_deduc_non_plafonnees_pens_alim': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f6gi': tested_reduction_amount, 'f6gj': tested_reduction_amount, 'f6el': tested_reduction_amount, 'f6em': tested_reduction_amount, 'f6gp': tested_reduction_amount, 'f6gu': tested_reduction_amount}),
    'credit_aidper': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7wj': tested_reduction_amount, 'f7wl': tested_reduction_amount, 'f7wr': tested_reduction_amount}),
    'credit_assloy': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f4ba': tested_income_amount, 'f4bf': tested_reduction_amount}),
    'credit_garext': define_family_scenario(2016, value_by_variable = {'f7ga': 3000, 'f7ge': 2000}, nb_enfants = 2, nbF = 1, nbH = 1),
    'credit_inthab': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7vt': tested_reduction_amount, 'f7vx': tested_reduction_amount * 2, 'f7vz': tested_reduction_amount * 3}),
    'credit_preetu': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7uk': 1000, 'f7vo': 2, 'f7td': 3000}, date_naissance = 2016 - 25),
    'credit_saldom': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 1, 'f7dg': 1}),
    'credit_saldom2': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'decote': define_family_scenario(2016, income_amount1 = 25000, income_amount2 = 20000),
    'f4be': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f4be': tested_income_amount}), # r√©gime micro-foncier
    'maj_nbp': define_family_scenario(2016, nbF = 1, nbG = 1, nbH = 1, nbI = 1, nbR = 1, nbJ = 1),
    'nbG': define_family_scenario(2016, nbG = 1),  
    'nbI': define_family_scenario(2016, nbF = 2, nbI = 1, nbH = 1),
    'nbR': define_family_scenario(2016, nbR = 1),
    'plaf_qf_caseL': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount}, caseL = 1),
    'plaf_qf_casePF_nbGI': define_family_scenario(2016, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000, caseP = 1, caseF = 1, nbF = 2, nbG = 1, nbH = 1, nbI = 1),
    'plaf_qf_caseT': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'plaf_qf_caseWG': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount}, statut_marital = u'veuf', caseG = 1, caseW = 1),
    'plaf_qf_family': define_family_scenario(2016, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000),
    'reduc_adhcga': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f7ff': tested_reduction_amount, 'f7fg': 2}),
    'reduc_autent': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f8uy': tested_reduction_amount}),
    'reduc_cappme': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7cf': tested_investment, 'f7cu': tested_investment, 'f7cl': tested_investment, 'f7cm': tested_investment, 'f7cn': tested_investment, 'f7cc': tested_investment, 'f7cq': tested_investment, 'f7cr': tested_investment, 'f7cv': tested_investment, 'f7cx': tested_investment, 'f7cy': tested_reduction_amount, 'f7dy': tested_reduction_amount, 'f7ey': tested_reduction_amount}),
    'reduc_credit_2042pro': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'arag_impg': fixed_wage_amount, 'f8tb': tested_reduction_amount, 'f8tc' : tested_reduction_amount, 'f8te' : tested_reduction_amount, 'f8tg' : tested_reduction_amount, 'f8ts' : tested_reduction_amount, 'f8tz' : tested_reduction_amount, 'f8wa' : tested_reduction_amount, 'f8wb' : tested_reduction_amount, 'f8wc' : tested_reduction_amount, 'f8wd' : tested_reduction_amount, 'f8we' : tested_reduction_amount, 'f8wt' : tested_reduction_amount, 'f8wr' : tested_reduction_amount, 'f8uz' : tested_reduction_amount, 'f8wu' : tested_reduction_amount, 'f8tl' : tested_reduction_amount, 'f8uw' : tested_reduction_amount}), 
    'reduc_duflot': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7ek': tested_investment, 'f7gh': tested_investment, 'f7fi': tested_reduction_amount, 'f7fk': tested_reduction_amount, 'f7fr': tested_reduction_amount}),
    'reduc_dfppce': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7uf': tested_reduction_amount, 'f7vc': tested_reduction_amount, 'f7xs': 1000, 'f7xt': 1000, 'f7xu': 1000, 'f7xv': 1000, 'f7xw': 1000}),
    'reduc_donapd': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7ud': 100, 'f7va': 100}),
    'reduc_ecpess': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount,'f7ea': 1, 'f7eb': 1, 'f7ec': 0, 'f7ef': 0, 'f7eg': 0, 'f7ed': 1}, nb_enfants = 3, nbF = 1, nbH = 2),
    'reduc_intagr': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7um': tested_income_amount, 'f2tr': tested_income_amount}),
    'reduc_invlst1': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7xp': tested_investment}),
    'reduc_invlst2': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7xq': tested_investment}),
    'reduc_locmeu': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7ow': tested_investment, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment}),
    'reduc_locmeu_avec_reports': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7ow': tested_investment, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7ok': tested_reduction_amount, 'f7om': tested_reduction_amount, 'f7oo': tested_reduction_amount, 'f7of': tested_reduction_amount, 'f7oh': tested_reduction_amount, 'f7oj': tested_reduction_amount, 'f7oa': tested_reduction_amount, 'f7oc': tested_reduction_amount, 'f7oe': tested_reduction_amount, 'f7jv': tested_reduction_amount, 'f7jx': tested_reduction_amount, 'f7ia': tested_reduction_amount, 'f7ic': tested_reduction_amount, 'f7ip': tested_reduction_amount, 'f7ir': tested_reduction_amount, 'f7iu': 10, 'f7it': 10, 'f7ix': 10, 'f7ih': 10, 'f7iz': 10, 'f7iy': 10, 'f7jc': 10, 'f7ji': 10, 'f7js': 10, 'f7pa': 10, 'f7pb': 10, 'f7pc': 10, 'f7pd': 10, 'f7pe': 10, 'f7pf': 10, 'f7pg': 10, 'f7ph': 10, 'f7pi': 10, 'f7pj': 10, 'f7pk': 10, 'f7pl': 10, 'f7pm': 10, 'f7pn': 10, 'f7po': 10}),    
    'reduc_locmeu_plafonnee': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7ow': tested_investment * 10, 'f7ov': tested_investment * 10, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7ju': tested_investment, 'f7id': tested_investment, 'f7ie': tested_investment, 'f7if': tested_investment, 'f7ig': tested_investment, 'f7ij': tested_investment, 'f7il': tested_investment, 'f7in': tested_investment, 'f7iv': tested_investment, 'f7iw': tested_investment, 'f7im': tested_investment, 'f7ol': tested_reduction_amount, 'f7on': tested_reduction_amount, 'f7og': tested_reduction_amount, 'f7oi': tested_reduction_amount, 'f7ob': tested_reduction_amount, 'f7od': tested_reduction_amount, 'f7jw': tested_reduction_amount, 'f7jy': tested_reduction_amount, 'f7ib': tested_reduction_amount, 'f7iq': tested_reduction_amount, 'f7ik': tested_reduction_amount}),
    'reduc_patnat': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7kb': tested_reduction_amount, 'f7kc': tested_reduction_amount, 'f7kd': tested_reduction_amount, 'f7ke': tested_reduction_amount}),
    'reduc_pinel_dom': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7qc': tested_investment, 'f7qd': tested_investment, 'f7qg': tested_investment, 'f7qh': tested_investment, 'f7qk': tested_investment, 'f7ql': tested_investment, 'f7ci': tested_reduction_amount, 'f7di': tested_reduction_amount, 'f7dz': tested_reduction_amount, 'f7ez': tested_reduction_amount}),
    'reduc_pinel_metro': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7qa': tested_investment, 'f7qb': tested_investment, 'f7qe': tested_investment, 'f7qf': tested_investment, 'f7qi': tested_investment, 'f7qj': tested_investment, 'f7ai': tested_reduction_amount, 'f7bi': tested_reduction_amount, 'f7bz': tested_reduction_amount, 'f7cz': tested_reduction_amount}),
    'reduc_malraux': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7ny': tested_reduction_amount, 'f7nx': tested_reduction_amount, 'f7re': tested_reduction_amount, 'f7rf': tested_reduction_amount, 'f7sy': tested_reduction_amount, 'f7sx': tested_reduction_amount}),
    'reduc_saldom': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7df': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'reduc_saldom2': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7dd': tested_income_amount, 'f7dl': 1}),
    'reduc_scelli_dom_poly': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7jo': tested_investment, 'f7nr': tested_investment, 'f7hk': tested_investment}),
    'reduc_scelli_dom_poly_et_reports': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7yx': tested_reduction_amount, 'f7yy': tested_reduction_amount, 'f7yz': tested_reduction_amount, 'f7yq': tested_reduction_amount, 'f7yr': tested_reduction_amount, 'f7ys': tested_reduction_amount, 'f7yj': tested_reduction_amount, 'f7yk': tested_reduction_amount, 'f7yl': tested_reduction_amount, 'f7gv': tested_reduction_amount, 'f7gw': tested_reduction_amount, 'f7gx': tested_reduction_amount, 'f7hg': tested_reduction_amount, 'f7hh': tested_reduction_amount, 'f7hw': tested_reduction_amount, 'f7hz': tested_reduction_amount, 'f7hu': tested_reduction_amount, 'f7hs': tested_reduction_amount, 'f7lk': tested_reduction_amount}),
    'reduc_scelli_metro_bbc': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ja': tested_investment, 'f7ne': tested_investment, 'f7hn': tested_investment}),
    'reduc_scelli_metro_non_bbc': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fb': tested_investment*10, 'f7jg': tested_investment, 'f7ng': tested_investment, 'f7hj': tested_investment}),
    'reduc_scelli_metro_bbc_et_reports1': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7yt': tested_reduction_amount, 'f7yu': tested_reduction_amount, 'f7yv': tested_reduction_amount, 'f7yw': tested_reduction_amount, 'f7ym': tested_reduction_amount, 'f7yn': tested_reduction_amount, 'f7yo': tested_reduction_amount, 'f7yp': tested_reduction_amount, 'f7yb': tested_reduction_amount, 'f7yd': tested_reduction_amount, 'f7yf': tested_reduction_amount, 'f7yh': tested_reduction_amount, 'f7gj': tested_reduction_amount, 'f7gl': tested_reduction_amount, 'f7gs': tested_reduction_amount, 'f7gu': tested_reduction_amount, 'f7ha': tested_reduction_amount, 'f7hd': tested_reduction_amount, 'f7hf': tested_reduction_amount, 'f7hv': tested_reduction_amount, 'f7hx': tested_reduction_amount, 'f7ht': tested_reduction_amount, 'f7hr': tested_reduction_amount}),
    'reduc_scelli_metro_bbc_et_reports2': define_single_worker_scenario(2016, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7lb': tested_reduction_amount, 'f7lc': tested_reduction_amount, 'f7ld': tested_reduction_amount, 'f7le': tested_reduction_amount, 'f7lf': tested_reduction_amount, 'f7lm': tested_reduction_amount, 'f7ln': tested_reduction_amount, 'f7ls': tested_reduction_amount, 'f7lt': tested_reduction_amount, 'f7lz': tested_reduction_amount, 'f7lx': tested_reduction_amount, 'f7mg': tested_reduction_amount, 'f7mh': tested_reduction_amount, 'f7lg': tested_reduction_amount, 'f7lh': tested_reduction_amount, 'f7li': tested_reduction_amount, 'f7lj': tested_reduction_amount, 'f7lk': tested_reduction_amount, 'f7ll': tested_reduction_amount, 'f7lo': tested_reduction_amount, 'f7lp': tested_reduction_amount }),
    'reduc_spfscpi': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount, 'f7fq': tested_reduction_amount * 2, 'f7fm': tested_reduction_amount * 3}),
    'reduc_spfscpi2': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount}),
    'regime_benef_reel_agricole_sans_cga': define_single_worker_scenario(2016, {'nrag_impg': fixed_wage_amount/2, 'nrag_defi': tested_reduction_amount, 'f5qf': tested_reduction_amount, 'f5qg': tested_reduction_amount, 'f5qn': tested_reduction_amount}),
    'regime_benef_reel_agricole_avec_cga': define_single_worker_scenario(2016, {'arag_impg': fixed_wage_amount/2, 'arag_defi': tested_reduction_amount, 'arag_pvce': tested_reduction_amount*2, 'f5qo': tested_reduction_amount, 'f5qp': tested_reduction_amount, 'f5qq': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_avec_cga': define_single_worker_scenario(2016, {'alnp_imps': tested_income_amount * 3, 'nacc_defs': tested_income_amount, 'alnp_defs': tested_reduction_amount}),
    'regime_benef_reel_BIC_location_sans_cga': define_single_worker_scenario(2016, {'nacc_pvce': tested_income_amount * 3, 'nbic_defs': tested_income_amount, 'nlnp_defs': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_avec_cga': define_single_worker_scenario(2016, {'aacc_exon': tested_income_amount, 'aacc_impn': tested_income_amount * 3, 'aacc_defn': tested_income_amount, 'aacc_pvce': tested_income_amount}),
    'regime_benef_reel_BIC_nonpro_sans_cga': define_single_worker_scenario(2016, {'nacc_exon': tested_income_amount, 'nacc_impn': tested_income_amount * 3, 'nacc_defn': tested_income_amount}),
    'regime_benef_reel_BIC_pro_avec_cga': define_single_worker_scenario(2016, {'abic_impn': tested_income_amount * 3, 'abic_exon': tested_income_amount, 'abic_defn': tested_reduction_amount, 'abic_pvce': tested_reduction_amount / 2}),
    'regime_benef_reel_BIC_pro_sans_cga': define_single_worker_scenario(2016, {'nbic_impn': tested_income_amount * 3, 'nbic_impm': tested_income_amount, 'nbic_exon': tested_income_amount, 'nbic_defn': tested_reduction_amount, 'nbnc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_location': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'aacc_imps' : tested_income_amount / 2, 'aacc_gits': tested_income_amount / 2, 'nacc_meup': tested_income_amount / 2}),
    'regime_micro_BIC_non_pro': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'macc_exon': tested_income_amount / 3, 'macc_impv': tested_income_amount/2, 'macc_imps': tested_income_amount / 2, 'macc_pvct': tested_reduction_amount, 'macc_pvce': tested_reduction_amount}),
    'regime_micro_BIC_pro': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'mbic_impv': tested_income_amount/2, 'mbic_imps': tested_income_amount / 3, 'mbic_exon': tested_income_amount / 3, 'mbic_pvct': tested_reduction_amount, 'mbic_pvce': tested_reduction_amount}),
}

scenario_by_variable_2017 = {
    'abat_65_or_invalid': define_single_worker_scenario(2017, {'salaire_imposable': 20000},  caseP = 1, date_naissance = 2017 - 80),
    'caseF': define_family_scenario(2017, caseF = 1),
    'caseG': define_single_worker_scenario(2017, {'salaire_imposable': 50000}, caseG = 1, statut_marital = u'veuf', date_naissance = 2017 - 80),
    'caseL': define_single_worker_scenario(2017, {'salaire_imposable': 50000}, caseL = 1),
    'caseP': define_family_scenario(2017, caseP = 1),
    'caseS': define_family_scenario(2017, caseS = 1, date_naissance1 = 2017 - 80),
    'caseT': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'caseW': define_single_worker_scenario(2017, {'salaire_imposable': 50000}, caseW = 1, date_naissance = 2017 - 80),
    'charges_deduc_non_plafonnees_acc75a': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f6ev': 2, 'f6eu': 1000}),
    'charges_deduc_non_plafonnees_deddiv': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f6dd': tested_reduction_amount}),
    #'charges_deduc_non_plafonnees_eparet': TODO
    'charges_deduc_non_plafonnees_reparations': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f6cb': 25000, 'f6hj': 1000 , 'f6hk': 1000, 'f6hl': 1000, 'f6hm': 1000, 'f6hn': 1000, 'f6ho': 1000, 'f6hp': 1000, 'f6hq': 1000}),
    'charges_deduc_non_plafonnees_pens_alim': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f6gi': tested_reduction_amount, 'f6gj': tested_reduction_amount, 'f6el': tested_reduction_amount, 'f6em': tested_reduction_amount, 'f6gp': tested_reduction_amount, 'f6gu': tested_reduction_amount}),
    'credit_aidper': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7wj': tested_reduction_amount, 'f7wl': tested_reduction_amount, 'f7wr': tested_reduction_amount}),
    'credit_garext': define_family_scenario(2017, value_by_variable = {'f7ga': 3000, 'f7ge': 2000}, nb_enfants = 2, nbF = 1, nbH = 1),
    'credit_inthab': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7vt': tested_reduction_amount, 'f7vx': tested_reduction_amount * 2, 'f7vz': tested_reduction_amount * 3}),
    'credit_preetu': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7uk': 1000, 'f7vo': 2, 'f7td': 3000}, date_naissance = 2017 - 25),
    'credit_saldom': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 1, 'f7dg': 1}),
    'credit_saldom2': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7db': tested_income_amount, 'f7dq': 0, 'f7dg': 0}),
    'decote': define_family_scenario(2017, income_amount1 = 25000, income_amount2 = 20000),
    'f4be': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f4be': tested_income_amount}), # r√©gime micro-foncier
    'maj_nbp': define_family_scenario(2017, nbF = 1, nbG = 1, nbH = 1, nbI = 1, nbR = 1, nbJ = 1),
    'nbG': define_family_scenario(2017, nbG = 1),  
    'nbI': define_family_scenario(2017, nbF = 2, nbI = 1, nbH = 1),
    'nbR': define_family_scenario(2017, nbR = 1),
    'plaf_qf_caseL': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount}, caseL = 1),
    'plaf_qf_casePF_nbGI': define_family_scenario(2017, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000, caseP = 1, caseF = 1, nbF = 2, nbG = 1, nbH = 1, nbI = 1),
    'plaf_qf_caseT': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount}, nb_enfants = 1, nbF = 1, caseT = 1),
    'plaf_qf_caseWG': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount}, statut_marital = u'veuf', caseG = 1, caseW = 1),
    'plaf_qf_family': define_family_scenario(2017, income_amount1 = fixed_large_wage_amount, income_amount2 = 100000),
    'reduc_adhcga': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f7ff': tested_reduction_amount, 'f7fg': 2}),
    'reduc_autent': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'f8uy': tested_reduction_amount}),
    'reduc_cappme': define_single_worker_scenario(2016, {'salaire_imposable': fixed_wage_amount, 'f7cf': tested_investment, 'f7cl': tested_investment, 'f7cm': tested_investment, 'f7cn': tested_investment, 'f7cc': tested_investment, 'f7cq': tested_investment, 'f7cr': tested_investment, 'f7cv': tested_investment, 'f7cx': tested_investment, 'f7cy': tested_reduction_amount, 'f7dy': tested_reduction_amount, 'f7ey': tested_reduction_amount, 'f7fy': tested_reduction_amount}),
    'reduc_credit_2042pro': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'abic_impn': fixed_wage_amount, 'arag_impg': fixed_wage_amount, 'f8tb': tested_reduction_amount, 'f8tc' : tested_reduction_amount, 'f8te' : tested_reduction_amount, 'f8tg' : tested_reduction_amount, 'f8ts' : tested_reduction_amount, 'f8tz' : tested_reduction_amount, 'f8wa' : tested_reduction_amount, 'f8wb' : tested_reduction_amount, 'f8wc' : tested_reduction_amount, 'f8wd' : tested_reduction_amount, 'f8we' : tested_reduction_amount, 'f8wt' : tested_reduction_amount, 'f8wr' : tested_reduction_amount, 'f8uz' : tested_reduction_amount, 'f8wu' : tested_reduction_amount, 'f8tl' : tested_reduction_amount, 'f8uw' : tested_reduction_amount}), 
    'reduc_duflot': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7ek': tested_investment, 'f7gh': tested_investment, 'f7fi': tested_reduction_amount, 'f7fk': tested_reduction_amount, 'f7fr': tested_reduction_amount, 'f7fv': tested_reduction_amount}),    
    'reduc_dfppce': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7uf': tested_reduction_amount, 'f7vc': tested_reduction_amount, 'f7xs': 1000, 'f7xt': 1000, 'f7xu': 1000, 'f7xv': 1000, 'f7xw': 1000}),
    'reduc_donapd': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7ud': 100, 'f7va': 100}),
    'reduc_ecpess': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount,'f7ea': 1, 'f7eb': 1, 'f7ec': 0, 'f7ef': 0, 'f7eg': 0, 'f7ed': 1}, nb_enfants = 3, nbF = 1, nbH = 2),
    'reduc_intagr': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7um': tested_income_amount, 'f2tr': tested_income_amount}),
    'reduc_invlst1': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7uy': tested_investment}),
    'reduc_invlst2': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7uz': tested_investment}),
    'reduc_locmeu': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7ox': tested_investment, 'f7ow': tested_investment, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7id': tested_investment, 'f7ij': tested_investment}),
    'reduc_locmeu_avec_reports': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7ox': tested_investment, 'f7ow': tested_investment, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7id': tested_investment, 'f7ij': tested_investment, 'f7op': tested_reduction_amount, 'f7or': tested_reduction_amount, 'f7ot': tested_reduction_amount, 'f7ok': tested_reduction_amount, 'f7om': tested_reduction_amount, 'f7oo': tested_reduction_amount, 'f7of': tested_reduction_amount, 'f7oh': tested_reduction_amount, 'f7oj': tested_reduction_amount, 'f7oa': tested_reduction_amount, 'f7oc': tested_reduction_amount, 'f7oe': tested_reduction_amount, 'f7jv': tested_reduction_amount, 'f7jx': tested_reduction_amount, 'f7ia': tested_reduction_amount, 'f7ic': tested_reduction_amount, 'f7ip': tested_reduction_amount, 'f7ir': tested_reduction_amount, 'f7ix': 10, 'f7ih': 10, 'f7iz': 10, 'f7iy': 10, 'f7jc': 10, 'f7ji': 10, 'f7js': 10, 'f7pa': 10, 'f7pb': 10, 'f7pc': 10, 'f7pd': 10, 'f7pe': 10, 'f7pf': 10, 'f7pg': 10, 'f7ph': 10, 'f7pi': 10, 'f7pj': 10, 'f7pk': 10, 'f7pl': 10, 'f7pm': 10, 'f7pn': 10, 'f7po': 10, 'f7pp': 10, 'f7pq': 10, 'f7pr': 10, 'f7ps': 10, 'f7pt': 10}),    
    'reduc_locmeu_plafonnee': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7ox': tested_investment * 20, 'f7ow': tested_investment * 5, 'f7ov': tested_investment, 'f7ou': tested_investment, 'f7jt': tested_investment, 'f7id': tested_investment, 'f7ij': tested_investment, 'f7oq': tested_reduction_amount, 'f7os': tested_reduction_amount, 'f7ol': tested_reduction_amount, 'f7on': tested_reduction_amount, 'f7og': tested_reduction_amount, 'f7oi': tested_reduction_amount, 'f7ob': tested_reduction_amount, 'f7od': tested_reduction_amount, 'f7jw': tested_reduction_amount, 'f7jy': tested_reduction_amount, 'f7ib': tested_reduction_amount, 'f7iq': tested_reduction_amount, 'f7ik': tested_reduction_amount}),
    'reduc_patnat': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7kc': tested_reduction_amount, 'f7kd': tested_reduction_amount, 'f7ke': tested_reduction_amount}),
    'reduc_pinel_dom': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7qc': tested_investment, 'f7qd': tested_investment, 'f7qg': tested_investment, 'f7qh': tested_investment, 'f7qk': tested_investment, 'f7ql': tested_investment, 'f7qo': tested_investment, 'f7qp': tested_investment, 'f7ci': tested_reduction_amount, 'f7di': tested_reduction_amount, 'f7dz': tested_reduction_amount, 'f7ez': tested_reduction_amount, 'f7tz': tested_reduction_amount, 'f7sz': tested_reduction_amount}),
    'reduc_pinel_metro': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7qa': tested_investment, 'f7qb': tested_investment, 'f7qe': tested_investment, 'f7qf': tested_investment, 'f7qi': tested_investment, 'f7qj': tested_investment, 'f7qm': tested_investment, 'f7qn': tested_investment, 'f7ai': tested_reduction_amount, 'f7bi': tested_reduction_amount, 'f7bz': tested_reduction_amount, 'f7cz': tested_reduction_amount, 'f7rz': tested_reduction_amount, 'f7rz': tested_reduction_amount}),
    'reduc_malraux': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7ny': tested_reduction_amount, 'f7nx': tested_reduction_amount, 'f7sy': tested_reduction_amount, 'f7sx': tested_reduction_amount, 'f7ty': tested_reduction_amount, 'f7tx': tested_reduction_amount}),
    # 'reduc_scelli_dom_poly': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7jo': tested_investment, 'f7nr': tested_investment}),
    # 'reduc_scelli_dom_poly_et_reports': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fc': tested_investment*10, 'f7wx': tested_reduction_amount, 'f7wy': tested_reduction_amount, 'f7wz': tested_reduction_amount, 'f7yx': tested_reduction_amount, 'f7yy': tested_reduction_amount, 'f7yz': tested_reduction_amount, 'f7yq': tested_reduction_amount, 'f7yr': tested_reduction_amount, 'f7ys': tested_reduction_amount, 'f7yj': tested_reduction_amount, 'f7yk': tested_reduction_amount, 'f7yl': tested_reduction_amount, 'f7hw': tested_reduction_amount, 'f7hz': tested_reduction_amount, 'f7hu': tested_reduction_amount, 'f7hs': tested_reduction_amount, 'f7lk': tested_reduction_amount}),
    # 'reduc_scelli_metro_bbc': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ja': tested_investment, 'f7ne': tested_investment}),
    # 'reduc_scelli_metro_non_bbc': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fb': tested_investment*10, 'f7jg': tested_investment, 'f7ng': tested_investment}),
    # 'reduc_scelli_metro_bbc_et_reports1': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7wt': tested_reduction_amount, 'f7wu': tested_reduction_amount, 'f7wv': tested_reduction_amount, 'f7ww': tested_reduction_amount, 'f7yt': tested_reduction_amount, 'f7yu': tested_reduction_amount, 'f7yv': tested_reduction_amount, 'f7yw': tested_reduction_amount, 'f7ym': tested_reduction_amount, 'f7yn': tested_reduction_amount, 'f7yo': tested_reduction_amount, 'f7yp': tested_reduction_amount, 'f7yb': tested_reduction_amount, 'f7yd': tested_reduction_amount, 'f7yf': tested_reduction_amount, 'f7yh': tested_reduction_amount, 'f7gj': tested_reduction_amount, 'f7gl': tested_reduction_amount, 'f7gs': tested_reduction_amount, 'f7gu': tested_reduction_amount, 'f7ha': tested_reduction_amount, 'f7hd': tested_reduction_amount, 'f7hf': tested_reduction_amount, 'f7hv': tested_reduction_amount, 'f7hx': tested_reduction_amount, 'f7ht': tested_reduction_amount, 'f7hr': tested_reduction_amount}),
    # 'reduc_scelli_metro_bbc_et_reports2': define_single_worker_scenario(2017, {'salaire_imposable': fixed_large_wage_amount, 'f7fa': tested_investment*10, 'f7ld': tested_reduction_amount, 'f7le': tested_reduction_amount, 'f7lf': tested_reduction_amount, 'f7lm': tested_reduction_amount, 'f7ln': tested_reduction_amount, 'f7ls': tested_reduction_amount, 'f7lt': tested_reduction_amount, 'f7lz': tested_reduction_amount, 'f7lx': tested_reduction_amount, 'f7mg': tested_reduction_amount, 'f7mh': tested_reduction_amount, 'f7lg': tested_reduction_amount, 'f7lh': tested_reduction_amount, 'f7li': tested_reduction_amount, 'f7lj': tested_reduction_amount, 'f7lk': tested_reduction_amount, 'f7ll': tested_reduction_amount, 'f7lo': tested_reduction_amount, 'f7lp': tested_reduction_amount, 'f7lk': tested_reduction_amount, 'f7lr': tested_reduction_amount, 'f7lu': tested_reduction_amount, 'f7lv': tested_reduction_amount}),
    'reduc_spfscpi': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount, 'f7fq': tested_reduction_amount * 2, 'f7fm': tested_reduction_amount * 3}),
    'reduc_spfscpi2': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'f7gq': tested_reduction_amount}),
    'regime_benef_reel_agricole_sans_cga': define_single_worker_scenario(2017, {'nrag_impg': fixed_wage_amount/2, 'nrag_defi': tested_reduction_amount, 'f5qf': tested_reduction_amount, 'f5qg': tested_reduction_amount, 'f5qn': tested_reduction_amount}),
    'regime_benef_reel_agricole_avec_cga': define_single_worker_scenario(2017, {'arag_impg': fixed_wage_amount/2, 'arag_defi': tested_reduction_amount, 'arag_pvce': tested_reduction_amount*2, 'f5qo': tested_reduction_amount, 'f5qp': tested_reduction_amount, 'f5qq': tested_reduction_amount}),
    # 'regime_benef_reel_BIC_location_avec_cga': define_single_worker_scenario(2017, {'alnp_imps': tested_income_amount * 3, 'nacc_defs': tested_income_amount, 'alnp_defs': tested_reduction_amount}),
    # 'regime_benef_reel_BIC_location_sans_cga': define_single_worker_scenario(2017, {'nacc_pvce': tested_income_amount * 3, 'nbic_defs': tested_income_amount, 'nlnp_defs': tested_income_amount}),
    # 'regime_benef_reel_BIC_nonpro_avec_cga': define_single_worker_scenario(2017, {'aacc_exon': tested_income_amount, 'aacc_impn': tested_income_amount * 3, 'aacc_defn': tested_income_amount, 'aacc_pvce': tested_income_amount}),
    # 'regime_benef_reel_BIC_nonpro_sans_cga': define_single_worker_scenario(2017, {'nacc_exon': tested_income_amount, 'nacc_impn': tested_income_amount * 3, 'nacc_defn': tested_income_amount}),
    # 'regime_benef_reel_BIC_pro_avec_cga': define_single_worker_scenario(2017, {'abic_impn': tested_income_amount * 3, 'abic_exon': tested_income_amount, 'abic_defn': tested_reduction_amount, 'abic_pvce': tested_reduction_amount / 2}),
    # 'regime_benef_reel_BIC_pro_sans_cga': define_single_worker_scenario(2017, {'nbic_impn': tested_income_amount * 3, 'nbic_impm': tested_income_amount, 'nbic_exon': tested_income_amount, 'nbic_defn': tested_reduction_amount, 'nbnc_pvce': tested_reduction_amount}),
    # 'regime_micro_BIC_location': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'aacc_imps' : tested_income_amount / 2, 'aacc_gits': tested_income_amount / 2, 'nacc_meup': tested_income_amount / 2}),
    # 'regime_micro_BIC_non_pro': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'macc_exon': tested_income_amount / 3, 'macc_impv': tested_income_amount/2, 'macc_imps': tested_income_amount / 2, 'macc_pvct': tested_reduction_amount, 'macc_pvce': tested_reduction_amount}),
    # 'regime_micro_BIC_pro': define_single_worker_scenario(2017, {'salaire_imposable': fixed_wage_amount, 'mbic_impv': tested_income_amount/2, 'mbic_imps': tested_income_amount / 3, 'mbic_exon': tested_income_amount / 3, 'mbic_pvct': tested_reduction_amount, 'mbic_pvce': tested_reduction_amount}),
}

scenario_by_variable = {
    '2014' : scenario_by_variable_2014,
    '2015' : scenario_by_variable_2015,
    '2016' : scenario_by_variable_2016,
    '2017' : scenario_by_variable_2017,
}