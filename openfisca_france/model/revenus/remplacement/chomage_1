


class duree_are(Variable):
    value_type = float
    entity = Individu
    label = "Durée de perception de l'ARE par un individu"
    definition_period = MONTH


    #critère d'affiliation : avoir travaillé tant de temps dans les x derniers mois avant la date de fin de contrat pour les moins de 53 ans et tant de temps dans les y derniers mois pour les plus de 53 ans
        contrat_de_travail_fin = individu('contrat_de_travail_fin', period)
        mois_admissibles = [period.offset(-i) for i in range(0, 28)]
        nombre_mois = (
            np.array(
                [(individu('salaire_de_base', period)) * (_mois > individu('date_fin_de_contrat', _mois)) for _mois in mois_admissibles]
                ) > 0
                ).sum(axis = 1)

